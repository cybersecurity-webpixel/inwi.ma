"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[75369],{38280:function(t,e,n){n.d(e,{Id:function(){return o},di:function(){return d},hD:function(){return r},ji:function(){return l},ld:function(){return a},uM:function(){return i}});let o="tout",i={FORFAIT_MOBILE:"mobile-offer",INTERNET_MOBILE:"internet-offer",IDAR:"idar",ADSL:"adsl",OFFERS_VACACIER:"offres-vacancier",FTTH:"ftth",HANDSETS:"handset",RECHARGE:"recharge"},l="products",a="cms_page",r="category_page",d="faq"},40857:function(t,e,n){n.d(e,{Z:function(){return r}});var o=n(85893),i=n(45380),l=n(38686),a=(0,n(7485).Z)({modal:{width:343,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none"}}),r=function(t){let{open:e,onClose:n,children:r,classe:d}=t,c=a();return(0,o.jsx)(i.Z,{open:e,onClose:()=>n(),children:(0,o.jsx)(l.Z,{elevation:0,className:d?"".concat(d," ").concat(c.modal):c.modal,children:r})})}},1181:function(t,e,n){n.d(e,{Z:function(){return p}});var o=n(85893),i=n(11163),l=n(44012),a=n(45007),r=n(37666),d=n(58314),c=n(508),u=(0,n(7485).Z)(()=>({modal:{height:"unset !important",padding:"32px","& button":{height:"48px",boxShadow:"unset","&:hover":{boxShadow:"unset"}},"& > div:first-child":{marginBottom:"16px"},"& > div:nth-child(2)":{"& > p":{color:"#AD2184",fontWeight:600,fontSize:"22px"}},"& > div:nth-child(3)":{"& > p":{margin:"8px 0",fontSize:"16px"}},"& > div:nth-child(5) button":{marginBottom:0,fontWeight:600,fontSize:"16px",color:"#D12A2C",border:"1px solid #D12A2C","&:hover":{background:"#f9d5d5",color:"#DC5153"}}}})),p=t=>{let{isOpen:e,setOpen:n,toPage:p,loading:s}=t,m=(0,i.useRouter)(),f=(0,a.I0)(),v=u(),{pathStep:A}=(0,a.v9)(t=>t.orderCart),E=async()=>{f((0,c.N6)()),await (null==p?void 0:p()),n(!1)},S=async()=>{A&&m.push(A,A,{locale:A.includes("cartId")?"fr":m.locale}),n(!1)};return(0,o.jsx)(d.Z,{open:e,onClose:n,onRedirect:E,onConfirm:S,icon:r.gSL,title:(0,o.jsx)(l.Z,{id:"packs.pop.up.title"}),subtitle:(0,o.jsx)(l.Z,{id:"packs.pop.up.subtitle"}),isInformationModal:!1,titleButtonConfirm:(0,o.jsx)(l.Z,{id:"global.button.see.cart.content"}),titleButtonCancel:(0,o.jsx)(l.Z,{id:"global.button.delete"}),classname:v.modal,loading:s,datatest:"handleBtn"})}},58314:function(t,e,n){var o=n(85893),i=n(65198),l=n(59370),a=n(89609),r=n(38029),d=n(40857),c=n(33418);e.Z=t=>{let e=(0,c.Z)(),{btnConfirmIsDisable:n=!0,textAlignSubmitted:u="center",typeBtnConfirm:p="contained"}=t;return(0,o.jsx)(d.Z,{open:t.open,onClose:()=>(null==t?void 0:t.onClose)&&t.onClose(),classe:t.classname?"".concat(t.classname," ").concat(e.modalConfirmation):e.modalConfirmation,"data-testid":t.datatest,children:(0,o.jsxs)(o.Fragment,{children:[t.icon&&(0,o.jsx)("div",{className:e.modalIcon,children:(0,o.jsx)(t.icon,{})}),(0,o.jsx)("div",{children:(0,o.jsx)("p",{className:e.modalTitle,children:t.title})}),(0,o.jsx)("div",{children:(0,o.jsx)("p",{className:e.modalMessage,style:{textAlign:u||"center"},children:t.subtitle})}),t.error&&(0,o.jsx)(i.Z,{error:!0,className:e.helperFont,children:t.error}),t.onConfirm&&(0,o.jsx)(a.Z,{sx:{mb:"10px",display:"flex"},children:(0,o.jsx)(r.Z,{variant:p,color:p&&"outlined"===p?"secondary":"primary",type:"button",size:"small",disabled:!n,className:"\n            ".concat(e.popButton," ").concat(!n&&e.disableButton),onClick:()=>!(null==t?void 0:t.loading)&&t.onConfirm&&t.onConfirm(),children:(null==t?void 0:t.loading)?(0,o.jsx)(l.Z,{size:25}):(0,o.jsx)("p",{children:t.titleButtonConfirm})})}),!t.isInformationModal&&(0,o.jsx)(a.Z,{children:(0,o.jsx)(r.Z,{variant:"outlined",type:"button",size:"small",color:"secondary","data-testId":"redirect-button",className:e.closeButton,onClick:()=>t.onRedirect?t.onRedirect():null==t?void 0:t.onClose(),disabled:null==t?void 0:t.loading,children:(0,o.jsx)("p",{children:t.titleButtonCancel})})})]})})}},33418:function(t,e,n){var o=n(7485);e.Z=(0,o.Z)(t=>{var e;return{manageLines:{display:"flex",flexFlow:"column",margin:"0 auto",[null===(e=t.breakpoints)||void 0===e?void 0:e.down("sm")]:{paddingTop:40}},gridContainer:{display:"flex",justifyContent:"center",width:"100%"},title:{font:"normal normal 600 32px/30px Omnes",textAlign:"center",marginTop:0,color:"#251138",marginBottom:"0px"},description:{font:"normal normal 400 16px Omnes",textAlign:"center",marginTop:13,marginBottom:15,"& b":{fontWeight:600}},bloc:{width:"100%"},addLine:{marginTop:"25px",background:"transparent linear-gradient(95deg, #8D156A 0%, #BE2C93 100%) 0% 0% no-repeat padding-box",width:"100%",height:"40px",font:"normal normal bold 14px/19px Open Sans"},popButton:{font:"normal normal bold 14px/19px Open Sans",width:"100%",height:"40px",marginTop:"16px","& > p > p":{margin:0}},confirmButton:{background:"transparent linear-gradient(97deg, #8D156A 0%, #BE2C93 100%) 0% 0% no-repeat padding-box"},disableButton:{background:"#FFFFFF 0% 0% no-repeat padding-box",color:"#AD2184",cursor:"not-allowed"},closeButton:{background:"#FFFFFF 0% 0% no-repeat padding-box",border:"1px solid #AD2184",width:"100%",height:"40px",marginBottom:"16px"},modalConfirmation:{background:"#FFFFFF 0% 0% no-repeat padding-box",width:"348px !important",maxHeight:"421px",outline:"none",paddingTop:"35px",paddingBottom:"35px"},modalTitle:{font:"normal normal 600 22px/26px Omnes",textAlign:"center",margin:0},modalMessage:{font:"normal normal normal 14px/18px Omnes",color:"#353639",textAlign:"center",marginBottom:"10px","& b.messageBold":{display:"block",paddingBottom:"10px"}},modalIcon:{display:"flex",justifyContent:"center",marginBottom:"10px"},helperFont:{fontWeight:500,marginLeft:"15px"}}})},31960:function(t,e,n){n.d(e,{H9:function(){return p},K4:function(){return u},QA:function(){return d},Sn:function(){return a},UH:function(){return r},ju:function(){return l},oH:function(){return c}});var o=n(34749),i=n(13410);let l=t=>{switch(t){case i.jl.MOBILE_OFFER.type:return o.GF.ACHAT_FORFAIT;case i.jl.IDAR.type:return o.GF.ACHAT_IDAR;case i.jl.ADSL.type:return o.GF.ACHAT_ADSL;case i.jl.HANDSET.type:case i.jl.HANDSETS.type:return o.GF.ACHAT_TERMINAL;case i.jl.ADSL_FTTH.type:return o.GF.ACHAT_ADSL;case i.jl.CHOOSE_NUMBER.type:return o.GF.ACHAT_FORFAIT;case i.fY.CART_SIM:return o.GF.ACHAT_TERMINAL;case i.fY.BOX_ROUTEUR:return o.GF.ACHAT_IDAR;case i.fY.MODEM_4G:return o.GF.ACHAT_ADSL;case i.fY.OFFERS_VACANCIERS_BOX:return o.GF.ACHAT_OFFER_VACAY;case i.fY.PORTABILITE:return o.GF.ACHAT_FORFAIT;default:return t}},a=(t,e,n)=>{if(!e)return{};if(Array.isArray(t)){let o={};for(let i of e){let e=t.find(t=>t===i[n]);e&&(o[e]=i)}return o}for(let o of e)if(t===o[n])return o;return{}},r=t=>{var e;return null==t?void 0:null===(e=t.items)||void 0===e?void 0:e.filter(t=>(null==t?void 0:t.productTypeName)===i.jl.HANDSET.type||(null==t?void 0:t.productTypeName)===i.jl.ACCESSORIES.type).reduce((t,e)=>t+e.qty,0)},d=t=>{var e;return null==t?void 0:null===(e=t.items)||void 0===e?void 0:e.find(t=>(null==t?void 0:t.productTypeName)===i.jl.MOBILE_OFFER.type)},c=(t,e)=>{var n;return null==t?void 0:null===(n=t.items)||void 0===n?void 0:n.find(t=>(null==t?void 0:t.productTypeName)===e)},u=t=>{var e;return null==t?void 0:null===(e=t.items)||void 0===e?void 0:e.find(t=>(null==t?void 0:t.productTypeName)===i.jl.CART_SIM.type)},p=t=>{switch(t){case o.pM.DASHBOARD:return o.ng.dashboard;case o.pM.DETAILS_LINE:return o.ng.consult_solde;case o.pM.MA_LINE:return o.ng.my_line;default:return t}}},19595:function(t,e,n){n.d(e,{Z:function(){return g}});var o=n(11163),i=n(67294),l=n(73935),a=n(45007),r=n(38280),d=n(34749),c=n(76943),u=n(31960),p=n(38501),s=n(48898),m=n(83697),f=n(18761),v=n(32604),A=n(508),E=n(40879),S=n(47377),y=n(70060),I=n(13410);let C=(t,e,n,o)=>t===I.jl.HANDSET.type?n?e===p.B3:e<=s.fi:t===I.jl.ACCESSORIES.type?e<=s.fi:t===I.jl.MOBILE_OFFER.type?!n&&!o&&e<=p.B3:void 0,g=()=>{let[t,e]=(0,i.useState)(),[n,s]=(0,i.useState)(),[g,T]=(0,i.useState)(!1),[h]=(0,v.o0)(),{push:x}=(0,o.useRouter)(),R=(0,a.I0)(),{cartId:j,cart:F}=(0,a.v9)(t=>t.orderCart),O=JSON.parse((0,y.fp)("cart","{}")),[_,N]=(0,i.useState)(),[b,B]=(0,i.useState)(null),[H,w]=(0,i.useState)(!1),[D,M]=(0,i.useState)(p.B3),[L]=(0,v.Bq)(),Z=(0,i.useMemo)(()=>{var t;return null==F?void 0:null===(t=F.items)||void 0===t?void 0:t.find(t=>t.productTypeName===I.jl.CART_SIM.type)},[F]),k=async t=>{if(_.productTypeName===I.jl.ADSL.type){var e,n,o,i;let l=await (0,f.MX)({productTypeName:I.Ru});(null==l?void 0:null===(n=l.data)||void 0===n?void 0:null===(e=n[0])||void 0===e?void 0:e.productId)&&t&&await h({productId:null==l?void 0:null===(i=l.data)||void 0===i?void 0:null===(o=i[0])||void 0===o?void 0:o.productId,qty:1,cartId:t})}},P=async t=>{if((null==_?void 0:_.productTypeName)===I.jl.FIBRE.type){var e,n;let o=await (0,f.MX)({productTypeName:I.fY.DEVICE}),i=null==o?void 0:null===(n=o.data)||void 0===n?void 0:null===(e=n.filter(t=>{var e;return(null==t?void 0:null===(e=t.categories)||void 0===e?void 0:e.findIndex(t=>t.code_cat===r.uM.FTTH))!==-1}))||void 0===e?void 0:e[0];i&&(null==i?void 0:i.productId)&&t&&await h({productId:null==i?void 0:i.productId,qty:1,cartId:t})}};(0,i.useEffect)(()=>{g&&R((0,c.K4)(!1))},[R,g]);let G=async function(t){let o=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(localStorage.removeItem("cart"),!t){R((0,c.io)(!0)),e(1);let{data:t}=await L();(null==t?void 0:t.CartId)&&(null==_?void 0:_.productId)&&D&&(await h({productId:_.productId,qty:D,cartId:t.CartId}),(null==n?void 0:n.length)&&await Y(n,j)),await k(t.CartId),await P(t.CartId),e(null),R((0,c.io)(!1))}let i=t||_;if(i&&o&&!(null==n?void 0:n.length)){let{productId:t,productTypeName:e}=i,n=Object.values(I.jl).find(t=>t.type===e);x("/particuliers/achat/".concat(n.link,"/").concat(n.initialStep,"?productId=").concat(t))}},U=t=>T(t||!g),q=async function(t){var n,o,i,a,r,p,f,v,y,g,T;let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,x=arguments.length>2?arguments[2]:void 0,_=arguments.length>3?arguments[3]:void 0,{productId:b}=t,H=(null==F?void 0:null===(n=F.items)||void 0===n?void 0:n.length)>0&&(null==F?void 0:null===(o=F.items[0])||void 0===o?void 0:o.productTypeName),D=(null!=x?x:0)+(0,u.UH)(F),L=function(t){var e;let{cart:n,productTypeName:o,product:i,globalQuantity:l,isSimExist:a}=t,r=(0,u.oH)(n,I.jl.ACCESSORIES.type),d=[I.jl.HANDSET.type,I.jl.MOBILE_OFFER.type].includes(o)&&[I.jl.HANDSET.type,I.jl.MOBILE_OFFER.type].includes(i.productTypeName),c=[I.jl.HANDSET.type,I.jl.ACCESSORIES.type].includes(o)&&[I.jl.HANDSET.type,I.jl.ACCESSORIES.type].includes(i.productTypeName),p=r&&!(0,u.QA)(n)?c:d;return o&&(null==n?void 0:null===(e=n.items)||void 0===e?void 0:e.length)>0&&(o!==i.productTypeName||o==i.productTypeName&&(o===I.jl.HANDSET.type||o===I.jl.ACCESSORIES.type))&&p&&C(i.productTypeName,l,!!(0,u.QA)(n),a)}({cart:F,product:t,productTypeName:H,globalQuantity:D,isSimExist:Z});x&&M(x+((null==F?void 0:null===(a=F.items)||void 0===a?void 0:null===(i=a.find(e=>e.productId===t.productId))||void 0===i?void 0:i.qty)||0)),t.productTypeName!==I.jl.ADSL.type&&(0,m.qi)(d.e9.PURCHASE_PACKAGE_PRODUCT_SELECTION,d.e9.PURCHASE_PACKAGE_PRODUCT_SELECTION_NAME,{...d.y,cle_parcours:(0,u.ju)(t.productTypeName),product_name:t.productName,product_id:t.productId,product_category:t.productTypeName,cart_id:j,product_value:null===(f=t.pricing)||void 0===f?void 0:f.finalPrice,volume_appels:(0,E.ZV)(null===(v=(0,u.Sn)("hours",null===(y=t.ProductSpecs)||void 0===y?void 0:y.generosity,"name"))||void 0===v?void 0:v.value),volume_data:(0,E.ZV)(null===(g=(0,u.Sn)("data",null===(T=t.ProductSpecs)||void 0===T?void 0:T.generosity,"name"))||void 0===g?void 0:g.value)});let k=t.productTypeName===I.jl.ACCESSORIES.type&&(null==O?void 0:null===(r=O.items)||void 0===r?void 0:r.length)>0;if(k||(null==F?void 0:null===(p=F.items)||void 0===p?void 0:p.length)>0&&!L){if(l.unstable_batchedUpdates(()=>{N(t),s(_),U(!0)}),R((0,c.io)(!1)),k){let t=new URLSearchParams({cartId:O.cartId,key:O.key}),e="".concat(S.UI.PURCHASE,"/").concat(O.category,"/").concat(O.step,"?").concat(t.toString());R((0,A.QP)(e))}return}if(e(h),R((0,c.io)(!0)),L){let e={[I.jl.HANDSET.type]:"/particuliers/achat/".concat(I.jl.HANDSET.link,"/").concat(I.jl.HANDSET.initialStep,"?productId=").concat(b),[I.jl.FIBRE.type]:"/particuliers/achat/".concat(I.jl.FIBRE.link,"/").concat(I.jl.FIBRE.initialStep,"?productId=").concat(b),[I.jl.ACCESSORIES.type]:"/particuliers/achat/".concat(I.jl.ACCESSORIES.link,"/").concat(I.jl.ACCESSORIES.initialStep,"?productId=").concat(b),default:"/particuliers/achat/".concat(I.jl.MOBILE_OFFER.link,"/").concat(I.jl.MOBILE_OFFER.initialStep,"?productId=").concat(b)};B(e[t.productTypeName]||e.default)}l.unstable_batchedUpdates(()=>{N(t),s(_),w(!0)})},Y=async(t,e)=>{for(let n of t){let t={productId:n.productId,qty:1,_cartId:e};await h({...t})}},V=async()=>{if(_&&H){R((0,c.io)(!0));let{productId:t}=_;if(t&&D&&j){let e={productId:t,qty:D,cartId:j};(null==_?void 0:_.productTypeName)===I.jl.FIBRE.type&&(e.custom_options=_.custom_options),await h({...e}),(null==n?void 0:n.length)&&await Y(n,j)}j&&(await k(j),await P(j))}if(j&&(await k(j),await P(j)),e(null),R((0,c.io)(!1)),b){x(b);return}if(j&&(null==F?void 0:F.items)){await G(_,!(null==n?void 0:n.length));return}l.unstable_batchedUpdates(()=>{w(!1),N(null),M(p.B3),B(null)})};return(0,i.useEffect)(()=>{j&&H&&V()},[j,H]),(0,i.useEffect)(()=>{j||L()},[]),{loadingIndex:t,selectProduct:q,popupOpen:g,togglePopup:U,selectedProduct:_,beginFlow:G,setSelectedProduct:N}}},38501:function(t,e,n){n.d(e,{B3:function(){return r},XW:function(){return a},hr:function(){return l},zE:function(){return i}});var o=n(13410);let i="ascending",l="descending",a=[o.jl.HANDSET.type,o.jl.ACCESSORIES.type],r=1},47377:function(t,e,n){n.d(e,{UI:function(){return o}});let o={PURCHASE:"/purchase",HOMEPAGE:"/",FORFAIT:"/particuliers/offres-mobiles/forfait-mobile",IDAR:"/particuliers/offres-internet/wifi-a-la-maison/idar-duo",VACAY:"/particuliers/offres-internet/wifi-a-la-maison/vacay-wifi",SMART_PHONES:"/particuliers/catalogue-smartphones",FTTH:"/particuliers/offres-internet/wifi-a-la-maison/fibre-optique",CGU:"/cgu",ADSL:"/particuliers/offres-internet/wifi-a-la-maison/adsl-xtra",SIGNIN:"/myinwi/login",HOME:"/",HOME_B2B:"/entreprise",HOME_CORPORATE:"/corporate",HOME_PRO:"/pro",HOME_WHOLESALE:"/wholesale",EMPTY_CART:"/cart",PROFILE:"/myinwi/mon-compte",DASHBOARD:"/myinwi/dashboard",MY_LINES:"/myinwi/services",INVOICE:"/myinwi/mes-factures",INVOICES_PAYEMENT:"/paiement-facture",ASSISTANCE:"/myinwi/assistance",RECHARGE_PROMO_STAR:"/particuliers/recharges",TRACKING_ORDER:"/suivi-commande",PARTICULIERS:"/particuliers"}}}]);